# ุชุนูููุงุช ุงุณุชุฎุฏุงู Postman Collection ูุงุฎุชุจุงุฑ ุฑุญูุงุช ุงูุชูุฒูุน

## ๐ ุงููููุงุช ุงููุทููุจุฉ

1. **`MarketZone_DistributionTrip_Test_Collection.json`** - ูุฌููุนุฉ ุงูุงุฎุชุจุงุฑุงุช
2. **`MarketZone_Test_Environment.json`** - ุจูุฆุฉ ุงูุงุฎุชุจุงุฑ

## ๐ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### **1. ุงุณุชูุฑุงุฏ ุงููููุงุช ุฅูู Postman:**

1. ุงูุชุญ Postman
2. ุงุฐูุจ ุฅูู **Import** (ุงุณุชูุฑุงุฏ)
3. ุงุณุญุจ ููู `MarketZone_DistributionTrip_Test_Collection.json`
4. ุงุณุญุจ ููู `MarketZone_Test_Environment.json`

### **2. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ:**

1. ูู Postmanุ ุงุฐูุจ ุฅูู **Environments** (ุงูุจูุฆุงุช)
2. ุงุฎุชุฑ **MarketZone Test Environment**
3. ุชุฃูุฏ ูู ุฃู `baseUrl` ูุถุจูุท ุนูู `https://localhost:7001`

### **3. ุชุดุบูู ุงูุชุทุจูู:**

```bash
dotnet run --project "Src/Presentation/MarketZone.WebApi"
```

## ๐ ุณูุฑ ุงูุนูู ููุงุฎุชุจุงุฑ

### **ุงููุฑุญูุฉ ุงูุฃููู: ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ**

ูู ุจุชูููุฐ ุงูุทูุจุงุช ุจุงูุชุฑุชูุจ ุงูุชุงูู:

1. **1. ุฅูุดุงุก ููุธู** โ
2. **2. ุฅูุดุงุก ุณูุงุฑุฉ** โ
3. **3. ุฅูุดุงุก ููุทูุฉ** โ
4. **4. ุฅูุดุงุก ุนููู** โ
5. **5. ุฅูุดุงุก ููุชุฌ** โ
6. **6. ุฅูุดุงุก ุฑุตูุฏ ุงูููุชุฌ** โ

### **ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุณูุฑ ุนูู ุฑุญูุฉ ุงูุชูุฒูุน**

1. **1. ุฅูุดุงุก ุฑุญูุฉ ุชูุฒูุน ุฌุฏูุฏุฉ** โ
   - ุงุญูุธ ุงูู `id` ุงูููุฑุฌุน ูู ูุชุบูุฑ ุงูุจูุฆุฉ `distributionTripId`
   - ุงุญูุธ ุงูู `detailId` ูู `distributionTripDetailId`
   - **ุงูุชุญูู ูู ููุต AvailableQty ูู ProductBalance**

2. **2. ุชุฑุญูู ุงูุฑุญูุฉ** โ
   - **ุงูุชุญูู ูู ููุต Qty ูู ProductBalance**

3. **3. ุงุณุชูุงู ุงูุจุถุงุนุฉ (ุชุณุฌูู ุงููุฑุชุฌุนุงุช)** โ

4. **4. ุฅูุดุงุก ูุงุชูุฑุฉ ูุจูุนุงุช ููุฒุน (ุงูุนููู ุงูุฃูู)** โ

5. **5. ุฅูุดุงุก ูุงุชูุฑุฉ ูุจูุนุงุช ููุฒุน (ุงูุนููู ุงูุซุงูู)** โ

6. **6. ุงูุชุญูู ูู ุงููููุงุช** โ

7. **7. ุฅููุงู ุงูุฑุญูุฉ** โ

### **ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงูุชุญูู ูู ุงููุชุงุฆุฌ**

1. **1. ุนุฑุถ ุฑุญูุฉ ุงูุชูุฒูุน** โ
2. **2. ุนุฑุถ ููุงุชูุฑ ุงููุจูุนุงุช** โ
3. **3. ุนุฑุถ ุชูุงุตูู ุฑุญูุฉ ุงูุชูุฒูุน** โ
4. **4. ุนุฑุถ ุฑุตูุฏ ุงูููุชุฌ** โ

## ๐จ ุงุฎุชุจุงุฑ ุงูุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ

### **ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก:**

1. **1. ูุญุงููุฉ ุฅูุดุงุก ุฑุญูุฉ ุชูุฒูุน ุจููุธู ุบูุฑ ููุฌูุฏ**
   - ูุฌุจ ุฃู ูุนุทู ุฎุทุฃ 404 - Employee not found

2. **2. ูุญุงููุฉ ุฅูุดุงุก ุฑุญูุฉ ุชูุฒูุน ุจูููุฉ ุบูุฑ ูุชุงุญุฉ**
   - ูุฌุจ ุฃู ูุนุทู ุฎุทุฃ - Insufficient available quantity

3. **3. ูุญุงููุฉ Post ุฑุญูุฉ ููุณุช ูู ุญุงูุฉ Draft**
   - ูุฌุจ ุฃู ูุนุทู ุฎุทุฃ - Cannot post trip that is not in Draft status

4. **4. ูุญุงููุฉ ุงุณุชูุงู ุงูุจุถุงุนุฉ ูุฑุญูุฉ ูู ุญุงูุฉ Draft**
   - ูุฌุจ ุฃู ูุนุทู ุฎุทุฃ - Cannot receive goods for trip that is not in Posted status

5. **5. ูุญุงููุฉ ุฅูุดุงุก ูุงุชูุฑุฉ ููุฒุน ูุฑุญูุฉ ูู ุญุงูุฉ Posted**
   - ูุฌุจ ุฃู ูุนุทู ุฎุทุฃ - Cannot create distributor invoice for trip that is not in GoodsReceived status

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### **ุจุนุฏ ุฅููุงู ุณูุฑ ุงูุนูู:**

1. **ุฑุญูุฉ ุงูุชูุฒูุน:**
   - ุงูุญุงูุฉ: `Completed`
   - `SoldQty` ููููุชุฌ: 55 (30 + 25)
   - `ReturnedQty` ููููุชุฌ: 15

2. **ููุงุชูุฑ ุงููุจูุนุงุช:**
   - ูุงุชูุฑุชุงู ูู ููุน `Distributor`
   - ูุฑุชุจุทุชุงู ุจุฑุญูุฉ ุงูุชูุฒูุน
   - ุฅุฌูุงูู ุงููุจูุนุงุช: 1402.50 (765 + 637.50)

3. **ProductBalance:**
   - `qty`: 100 (200 - 100 ูู Post)
   - `availableQty`: 100 (200 - 100 ูู Create)

4. **ุงูุชุญูู ูู ุงููููุงุช:**
   - `isValid`: true
   - ูุง ุชูุฌุฏ ุฃุฎุทุงุก ุฃู ุชุญุฐูุฑุงุช

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### **ุฅุฐุง ูุดู ุงูุจูุงุก:**
```bash
dotnet build
```

### **ุฅุฐุง ูุดู ุชุดุบูู ุงูุชุทุจูู:**
```bash
dotnet run --project "Src/Presentation/MarketZone.WebApi" --verbosity normal
```

### **ุฅุฐุง ูุดูุช ุงูุทูุจุงุช:**
1. ุชุฃูุฏ ูู ุฃู ุงูุชุทุจูู ูุนูู ุนูู `https://localhost:7001`
2. ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ
3. ุชุญูู ูู ุงูู IDs ุงููุณุชุฎุฏูุฉ
4. ุชุฃูุฏ ูู ูุฌูุฏ ProductBalance ูุน ูููุงุช ูุงููุฉ

### **ุฅุฐุง ูุดูุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```bash
dotnet ef database update --project "Src/Infrastructure/MarketZone.Infrastructure.Persistence" --startup-project "Src/Presentation/MarketZone.WebApi" --context ApplicationDbContext
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุชุฃูุฏ ูู ูุฌูุฏ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ** ูุจู ุจุฏุก ุงูุงุฎุชุจุงุฑ
2. **ุชุฃูุฏ ูู ูุฌูุฏ ProductBalance** ูุน ูููุงุช ูุงููุฉ
3. **ุงุญูุธ ุงูู IDs** ุงูููุฑุฌุนุฉ ูู ูู ุทูุจ
4. **ุงุฎุชุจุฑ ุจุงูุชุฑุชูุจ** ุงููุญุฏุฏ
5. **ุชุญูู ูู ุงููุชุงุฆุฌ** ุจุนุฏ ูู ุฎุทูุฉ
6. **ุงุฎุชุจุฑ ุงูุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ** ููุชุฃูุฏ ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
7. **ุงุญูุธ ุงููุชุงุฆุฌ** ููุชุญููู ูุงุญูุงู
8. **ุชุญูู ูู ProductBalance** ููุชุฃูุฏ ูู ุชุญุฏูุซ ุงููููุงุช

## ๐ฏ ูุนุงููุฑ ุงููุฌุงุญ

### **1. ุณูุฑ ุงูุนูู:**
- โ ุฌููุน ุงูุทูุจุงุช ุชุนูู ุจูุฌุงุญ
- โ ุงูุชุญูู ูู ุงูู IDs ูุนูู
- โ ุงูุชุญูู ูู ุงููููุงุช ุงููุชุงุญุฉ ูุนูู
- โ ููุต AvailableQty ุนูุฏ ุฅูุดุงุก ุงูุฑุญูุฉ
- โ ููุต Qty ุนูุฏ Post ุงูุฑุญูุฉ

### **2. ุงูุชุญูู ูู ุงูุฃุฎุทุงุก:**
- โ ุงูุชุญูู ูู ูุฌูุฏ Employee, Car, Region, Product
- โ ุงูุชุญูู ูู ุงููููุงุช ุงููุชุงุญุฉ
- โ ุงูุชุญูู ูู ุญุงูุฉ ุงูุฑุญูุฉ ูู ูู ุฎุทูุฉ
- โ ุงูุชุญูู ูู ุงููููุงุช ุงููุจุงุนุฉ ูุงููุฑุฌุนุฉ
- โ ุงูุชุฑุงุฌุน ุนู ุงูุชุบููุฑุงุช ูู ุญุงูุฉ ุงูุฎุทุฃ

### **3. ุงูุจูุงูุงุช:**
- โ `SoldQty` ุชูุญุฏุซ ุชููุงุฆูุงู ุนูุฏ ุฅูุดุงุก ููุงุชูุฑ ุงููุจูุนุงุช
- โ `ReturnedQty` ุชูุฎุฒู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงูุนูุงูุงุช ุจูู ุงูููุงูุงุช ุชุนูู ุจุดูู ุตุญูุญ
- โ ุงูุชุญูู ูู ุงููููุงุช ูุนูู ุจุดูู ุตุญูุญ
- โ ProductBalance ูุชู ุชุญุฏูุซู ุจุดูู ุตุญูุญ

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช ุงูุชุทุจูู
2. ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ
4. ุชุญูู ูู ุญุงูุฉ ุงูุชุทุจูู
5. ุชุญูู ูู ProductBalance

---

**๐ ุชูุงูููุง! ุงููุธุงู ูุนูู ุจุดูู ูุซุงูู ูุน ุงูุชุญูู ูู ุงูุฃุฎุทุงุก ูุงููููุงุช!**
