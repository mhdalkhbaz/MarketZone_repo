{
	"info": {
		"_postman_id": "marketzone-roasting-invoice-collection",
		"name": "MarketZone - Roasting Invoice API",
		"description": "Complete API collection for MarketZone Roasting Invoice management system. Includes all CRUD operations for roasting invoices, posting functionality, and detailed examples.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "marketzone-roasting"
	},
	"item": [
		{
			"name": "📄 Roasting Invoice Management",
			"item": [
				{
					"name": "Get Paged List Roasting Invoices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/RoastingInvoice/GetPagedList?pageNumber=1&pageSize=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"RoastingInvoice",
								"GetPagedList"
							],
							"query": [
								{
									"key": "pageNumber",
									"value": "1",
									"description": "Page number (starts from 1)"
								},
								{
									"key": "pageSize",
									"value": "10",
									"description": "Number of items per page"
								}
							]
						},
						"description": "Retrieve a paginated list of roasting invoices with details"
					},
					"response": []
				},
				{
					"name": "Get Roasting Invoice By ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/RoastingInvoice/GetById?id=1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"RoastingInvoice",
								"GetById"
							],
							"query": [
								{
									"key": "id",
									"value": "1",
									"description": "Roasting invoice ID"
								}
							]
						},
						"description": "Retrieve a specific roasting invoice by its ID with all details"
					},
					"response": []
				},
				{
					"name": "Create Roasting Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"invoiceNumber\": \"ROAST-2024-001\",\n  \"invoiceDate\": \"2024-01-15T10:00:00Z\",\n  \"totalAmount\": 1250.00,\n  \"notes\": \"فاتورة تحميص للبن البرازيلي\",\n  \"details\": [\n    {\n      \"productId\": 1,\n      \"quantityKg\": 50.0,\n      \"roastPricePerKg\": 2.5,\n      \"notes\": \"تحميص درجة متوسطة\"\n    },\n    {\n      \"productId\": 2,\n      \"quantityKg\": 30.0,\n      \"roastPricePerKg\": 3.0,\n      \"notes\": \"تحميص درجة خفيفة\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/RoastingInvoice/Create",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"RoastingInvoice",
								"Create"
							]
						},
						"description": "Create a new roasting invoice with details. Requires authentication."
					},
					"response": []
				},
				{
					"name": "Update Roasting Invoice",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": 1,\n  \"invoiceNumber\": \"ROAST-2024-001-UPDATED\",\n  \"invoiceDate\": \"2024-01-15T10:00:00Z\",\n  \"totalAmount\": 1300.00,\n  \"notes\": \"فاتورة تحميص محدثة للبن البرازيلي\",\n  \"details\": [\n    {\n      \"id\": 1,\n      \"productId\": 1,\n      \"quantityKg\": 55.0,\n      \"roastPricePerKg\": 2.5,\n      \"notes\": \"تحميص درجة متوسطة محدث\",\n      \"isDeleted\": false\n    },\n    {\n      \"id\": 2,\n      \"productId\": 2,\n      \"quantityKg\": 30.0,\n      \"roastPricePerKg\": 3.0,\n      \"notes\": \"تحميص درجة خفيفة\",\n      \"isDeleted\": true\n    },\n    {\n      \"productId\": 3,\n      \"quantityKg\": 25.0,\n      \"roastPricePerKg\": 2.8,\n      \"notes\": \"تحميص درجة داكنة جديد\",\n      \"isDeleted\": false\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/RoastingInvoice/Update",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"RoastingInvoice",
								"Update"
							]
						},
						"description": "Update an existing roasting invoice. Cannot update posted invoices. Requires authentication."
					},
					"response": []
				},
				{
					"name": "Delete Roasting Invoice",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/RoastingInvoice/Delete?id=1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"RoastingInvoice",
								"Delete"
							],
							"query": [
								{
									"key": "id",
									"value": "1",
									"description": "Roasting invoice ID to delete"
								}
							]
						},
						"description": "Delete a roasting invoice. Cannot delete posted invoices. Requires authentication."
					},
					"response": []
				},
				{
					"name": "Post Roasting Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": 1,\n  \"details\": [\n    {\n      \"detailId\": 1,\n      \"actualQuantityAfterRoasting\": 47.5\n    },\n    {\n      \"detailId\": 2,\n      \"actualQuantityAfterRoasting\": 28.5\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/RoastingInvoice/Post",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"RoastingInvoice",
								"Post"
							]
						},
						"description": "Post a roasting invoice with actual quantities after roasting. This finalizes the roasting process. Requires authentication."
					},
					"response": []
				}
			],
			"description": "Complete CRUD operations for roasting invoice management"
		},
		{
			"name": "🔧 Authentication",
			"item": [
				{
					"name": "Authenticate User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@marketzone.com\",\n  \"password\": \"Admin123!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/Account/Authenticate",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"Account",
								"Authenticate"
							]
						},
						"description": "Authenticate user to get access token for protected endpoints"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints for getting access tokens"
		},
		{
			"name": "📋 Lookup Data",
			"item": [
				{
					"name": "Get Unroasted Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/Lookup/GetUnroastedProducts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"Lookup",
								"GetUnroastedProducts"
							]
						},
						"description": "Get list of products available for roasting"
					},
					"response": []
				},
				{
					"name": "Get Product Select List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/Lookup/GetProductSelectList",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"Lookup",
								"GetProductSelectList"
							]
						},
						"description": "Get all products for selection"
					},
					"response": []
				}
			],
			"description": "Lookup endpoints for getting reference data"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://localhost:7001",
			"type": "string",
			"description": "Base URL for the MarketZone API"
		},
		{
			"key": "authToken",
			"value": "",
			"type": "string",
			"description": "Authentication token (set after login)"
		}
	]
}
