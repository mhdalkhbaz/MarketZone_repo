{
	"info": {
		"_postman_id": "marketzone-roasting-collection",
		"name": "MarketZone - Roasting Operations",
		"description": "Postman Collection لعمليات التحميص وفواتير التحميص في نظام MarketZone",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "marketzone-roasting"
	},
	"item": [
		{
			"name": "🔐 Authentication",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userName\": \"abd\",\n  \"password\": \"123123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/account/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"account",
								"login"
							]
						},
						"description": "تسجيل الدخول للحصول على JWT Token"
					},
					"response": []
				}
			],
			"description": "عمليات المصادقة والتحكم في الوصول"
		},
		{
			"name": "🔥 Roasting Operations",
			"item": [
				{
					"name": "Create Roast Operation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{jwtToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"productId\": 1,\n  \"quantityKg\": 50.0,\n  \"roastPricePerKg\": 2.5,\n  \"roastDate\": \"2024-01-15T10:00:00Z\",\n  \"notes\": \"تحميص بن برازيلي درجة متوسطة\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/roasting",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting"
							]
						},
						"description": "إنشاء عملية تحميص جديدة"
					},
					"response": []
				}
			],
			"description": "عمليات التحميص الأساسية"
		},
		{
			"name": "📄 Roasting Invoices",
			"item": [
				{
					"name": "Get Paged List Roasting Invoices",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/roasting-invoice?pageNumber=1&pageSize=10&invoiceNumber=&status=0",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting-invoice"
							],
							"query": [
								{
									"key": "pageNumber",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "10"
								},
								{
									"key": "invoiceNumber",
									"value": ""
								},
								{
									"key": "status",
									"value": "0"
								}
							]
						},
						"description": "الحصول على قائمة فواتير التحميص مع الصفحات"
					},
					"response": []
				},
				{
					"name": "Get Roasting Invoice By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/roasting-invoice/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting-invoice",
								"1"
							]
						},
						"description": "الحصول على فاتورة تحميص محددة بالمعرف"
					},
					"response": []
				},
				{
					"name": "Create Roasting Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{jwtToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"invoiceNumber\": \"ROAST-2024-001\",\n  \"invoiceDate\": \"2024-01-15T10:00:00Z\",\n  \"totalAmount\": 1250.00,\n  \"notes\": \"فاتورة تحميص للبن البرازيلي\",\n  \"details\": [\n    {\n      \"productId\": 1,\n      \"quantityKg\": 50.0,\n      \"roastPricePerKg\": 2.5,\n      \"notes\": \"تحميص درجة متوسطة\"\n    },\n    {\n      \"productId\": 2,\n      \"quantityKg\": 30.0,\n      \"roastPricePerKg\": 3.0,\n      \"notes\": \"تحميص درجة خفيفة\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/roasting-invoice",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting-invoice"
							]
						},
						"description": "إنشاء فاتورة تحميص جديدة مع التفاصيل"
					},
					"response": []
				},
				{
					"name": "Update Roasting Invoice",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{jwtToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": 1,\n  \"invoiceNumber\": \"ROAST-2024-001-UPDATED\",\n  \"invoiceDate\": \"2024-01-15T10:00:00Z\",\n  \"totalAmount\": 1300.00,\n  \"notes\": \"فاتورة تحميص محدثة للبن البرازيلي\",\n  \"details\": [\n    {\n      \"productId\": 1,\n      \"quantityKg\": 55.0,\n      \"roastPricePerKg\": 2.5,\n      \"notes\": \"تحميص درجة متوسطة محدث\"\n    },\n    {\n      \"productId\": 2,\n      \"quantityKg\": 30.0,\n      \"roastPricePerKg\": 3.0,\n      \"notes\": \"تحميص درجة خفيفة\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/roasting-invoice",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting-invoice"
							]
						},
						"description": "تحديث فاتورة تحميص موجودة"
					},
					"response": []
				},
				{
					"name": "Delete Roasting Invoice",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwtToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/roasting-invoice/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting-invoice",
								"1"
							]
						},
						"description": "حذف فاتورة تحميص"
					},
					"response": []
				},
				{
					"name": "Post Roasting Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{jwtToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": 1,\n  \"details\": [\n    {\n      \"detailId\": 1,\n      \"actualQuantityAfterRoasting\": 47.5\n    },\n    {\n      \"detailId\": 2,\n      \"actualQuantityAfterRoasting\": 28.5\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/roasting-invoice/post",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting-invoice",
								"post"
							]
						},
						"description": "ترحيل فاتورة التحميص مع إدخال الكميات الفعلية بعد التحميص"
					},
					"response": []
				}
			],
			"description": "إدارة فواتير التحميص - إنشاء، تحديث، حذف، ترحيل"
		},
		{
			"name": "📊 Reports & Analytics",
			"item": [
				{
					"name": "Get Roasting Operations Report",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/roasting/report?fromDate=2024-01-01&toDate=2024-01-31",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting",
								"report"
							],
							"query": [
								{
									"key": "fromDate",
									"value": "2024-01-01"
								},
								{
									"key": "toDate",
									"value": "2024-01-31"
								}
							]
						},
						"description": "تقرير عمليات التحميص لفترة زمنية محددة"
					},
					"response": []
				},
				{
					"name": "Get Roasting Invoice Statistics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/roasting-invoice/statistics?status=1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"roasting-invoice",
								"statistics"
							],
							"query": [
								{
									"key": "status",
									"value": "1"
								}
							]
						},
						"description": "إحصائيات فواتير التحميص حسب الحالة"
					},
					"response": []
				}
			],
			"description": "التقارير والإحصائيات المتعلقة بعمليات التحميص"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://localhost:7001",
			"type": "string"
		},
		{
			"key": "jwtToken",
			"value": "",
			"type": "string"
		}
	]
}
